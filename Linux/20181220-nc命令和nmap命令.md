___
- FileName: 20181220-nc命令和nmap命令.md
- Author: ihuangch -huangch96@qq.com
- Description: ---
- Create:2018-12-20 18:32:44
___

### 0. 背景
工作中经常需要使用的跳板机，我们使用者就只有一个跳板机的密钥，就可以通过跳板机登录所有的主机，
然而在工作中经常需要多个主机之间传输文件之类的操作，此时又没有单独的密钥和密码传输文件，这时
就想到了nc命令这个小工具，在此做个总结。顺便把和nc齐名的nmap工具一起总结一下。

### 1. nc命令
NetCat是在一些发行版就是nc命令。  
它能通过TCP和UDP在网络中读写数据，通过与其它工具结合和重定向，可以在脚本中以多种方式使用它。  

##### 1.1 主要功能

- 实现任意TCP/UDP端口的侦听，nc可以作为server以tcp/upd方式侦听端口
- 端口的扫描，nc作为client发起TCP/UDP连接
- 机器之间传输文件
- 机器之间测试网速

Ncat是CentOS7默认的nc命令，CentOS6默认的原始nc命令  

##### 1.2 安装nc命令:  
```
yum install nc

```

##### 1.3 使用方法
```
注意：nc版本不一样，或者开发厂商不一样，选项会有不同
下面展示的是基本的一些选项和参数
[root@centos-111 ~]# nc -h
usage: nc [-46DdhklnrStUuvzC] [-i interval] [-p source_port]
	      [-s source_ip_address] [-T ToS] [-w timeout] [-X proxy_version]
	  	  [-x proxy_address[:port]] [hostname] [port[s]]
	Command Summary:
		-4		Use IPv4
		-6		Use IPv6
		-D		Enable the debug socket option
				打开socker选项进行调试
		-d		Detach from stdin
				从标准输入中分离(不从标准输入读取数据)
		-h		This help text
		-i secs		Delay interval for lines sent, ports scanned
				间隔时间，在发送和接收之间指定一个间隔时间(会引起连接多个接口时的延迟)
		-k		Keep inbound sockets open for multiple connects
				
		-l		Listen mode, for inbound connects
				监听模式，指定-l则为server模式
		-n		Suppress name/port resolutions
		-p port		Specify local port for remote connects
		-r		Randomize remote ports
		-S		Enable the TCP MD5 signature option
		-s addr		Local source address
		-T ToS		Set IP Type of Service
		-C		Send CRLF as line-ending
		-t		Answer TELNET negotiation
		-U		Use UNIX domain socket
		-u		UDP mode
		-v		Verbose
		-w secs		Timeout for connects and final net reads
		-X proto	Proxy protocol: "4", "5" (SOCKS) or "connect"
		-x addr[:port]	Specify proxy address and port
		-z		Zero-I/O mode [used for scanning]
	Port numbers can be individual or ranges: lo-hi [inclusive]
```
